SET DEFINE OFF;
CREATE OR REPLACE FUNCTION FN_GET_RECORDDATE_BA6003(P_RECORDDATE VARCHAR2) RETURN VARCHAR2 IS
  V_RESULT DATE;
  V_I NUMBER;
BEGIN
  V_RESULT := TO_DATE(P_RECORDDATE,SYSTEMNUMS.C_DATE_FORMAT);
  FOR V_I IN 1..3
    LOOP
      V_RESULT :=  GETPREVWORKINGDATE(V_RESULT);
      END LOOP;
  RETURN TO_CHAR(V_RESULT,SYSTEMNUMS.C_DATE_FORMAT);
  EXCEPTION
    WHEN OTHERS THEN
      PLOG.ERROR(SQLERRM || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);
      RETURN TO_CHAR(GETCURRDATE + 99999,SYSTEMNUMS.C_DATE_FORMAT);
END FN_GET_RECORDDATE_BA6003;
/
