SET DEFINE OFF;DELETE FROM SEARCH WHERE 1 = 1 AND NVL(SEARCHCODE,'NULL') = NVL('CA3390','NULL');Insert into SEARCH   (SEARCHCODE, SEARCHTITLE, EN_SEARCHTITLE, SEARCHCMDSQL, OBJNAME, FRMNAME, ORDERBYCMDSQL, TLTXCD, CNTRECORD, ROWPERPAGE, AUTOSEARCH, INTERVAL, AUTHCODE, ROWLIMIT, CMDTYPE, CONDDEFFLD, BANKINQ, BANKACCT) Values   ('CA3390', 'Tra cứu xác nhận ngày hiệu lực phân bổ', 'Tra cứu xác nhận ngày hiệu lực phân bổ', 'SELECT MSG.AUTOID, CA.VSDCAID, CA.CAMASTID, CA.CATYPE CATYPEID, CA.DESCRIPTION, SE.SYMBOL,
    SE2.SYMBOL EXSYMBOL, CA.ACTIONDATE,
    A.<@CDCONTENT> CATYPE, A1.<@CDCONTENT> STATUS
FROM CAMAST CA, SBSECURITIES SE, SBSECURITIES SE2,
(
    SELECT MSG.AUTOID, MSG.VSDCAID, MSG.STATUS FROM MSGCARECEIVED MSG WHERE MSG.MSGTYPE = ''566'' AND MSG.STATUS = ''P''
) MSG,
(
    SELECT * FROM ALLCODE WHERE CDNAME = ''CATYPE'' AND CDTYPE = ''CA''
) A,
(
    SELECT * FROM ALLCODE WHERE CDNAME = ''MSGCARECEIVEDSTS'' AND CDTYPE = ''RM''
) A1
WHERE CA.VSDCAID = MSG.VSDCAID
AND CA.CATYPE = A.CDVAL(+)
AND MSG.STATUS = A1.CDVAL(+)
AND SE.CODEID = CA.CODEID
AND CA.TOCODEID = SE2.CODEID(+)
AND CA.CATYPE <> ''005''
AND CA.STATUS IN (''S'',''I'',''G'',''H'')', 'CAMAST', 'frm', NULL, '3390', 0, 5000, 'N', 30, NULL, 'Y', 'T', NULL, 'N', NULL);COMMIT;