SET DEFINE OFF;DELETE FROM SEARCH WHERE 1 = 1 AND NVL(SEARCHCODE,'NULL') = NVL('CI1180','NULL');Insert into SEARCH   (SEARCHCODE, SEARCHTITLE, EN_SEARCHTITLE, SEARCHCMDSQL, OBJNAME, FRMNAME, ORDERBYCMDSQL, TLTXCD, CNTRECORD, ROWPERPAGE, AUTOSEARCH, INTERVAL, AUTHCODE, ROWLIMIT, CMDTYPE, CONDDEFFLD, BANKINQ, BANKACCT) Values   ('CI1180', 'Thu phí lưu ký đến hạn', 'Collect maturity depository fee', 'SELECT MST.AUTOID, TYP.TYPENAME, CF.CUSTODYCD, CF.CUSTID, CF.FULLNAME, MST.AFACCTNO, MST.TODATE, MST.AVL,
to_Char(to_Date(MST.TODATE,''DD/MM/RRRR''),''MM/RRRR'') FTODATE,af.alternateacct,
''Thu phí lưu ký tháng '' || to_Char(to_Date(MST.TODATE,''DD/MM/RRRR''),''MM/RRRR'') DESCRIPTION
FROM AFMAST AF, CFMAST CF, AFTYPE TYP,
(SELECT autoid, AFACCTNO, TODATE, SUM(NMLAMT)-SUM(PAIDAMT)-SUM(FLOATAMT) AVL FROM CIFEESCHD WHERE DELTD<>''Y'' GROUP BY autoid, AFACCTNO, TODATE) MST
WHERE MST.AFACCTNO=AF.ACCTNO AND AF.CUSTID=CF.CUSTID AND AF.ACTYPE=TYP.ACTYPE AND MST.AVL>0', 'BANKINFO', 'CI1180', 'CUSTODYCD, AFACCTNO, TODATE', '1180', NULL, 5000, 'N', 1, 'NYNNYYYNNN', 'Y', 'T', '', 'N', '');COMMIT;