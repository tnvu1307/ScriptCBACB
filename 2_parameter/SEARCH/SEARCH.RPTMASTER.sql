SET DEFINE OFF;DELETE FROM SEARCH WHERE 1 = 1 AND NVL(SEARCHCODE,'NULL') = NVL('RPTMASTER','NULL');Insert into SEARCH   (SEARCHCODE, SEARCHTITLE, EN_SEARCHTITLE, SEARCHCMDSQL, OBJNAME, FRMNAME, ORDERBYCMDSQL, TLTXCD, CNTRECORD, ROWPERPAGE, AUTOSEARCH, INTERVAL, AUTHCODE, ROWLIMIT, CMDTYPE, CONDDEFFLD, BANKINQ, BANKACCT) Values   ('RPTMASTER', 'Quản lý báo cáo và tra cứu', 'Report and view managemnet', 'SELECT A4.CDCONTENT CMDTYPE, RPTID, DSN, MODCODE, FONTSIZE ,RHEADER,PHEADER,RDETAIL,PFOOTER,RFOOTER,DESCRIPTION,A0.CDCONTENT AD_HOC,RORDER,PSIZE,A1.CDCONTENT ORIENTATION,STOREDNAME,A2.CDCONTENT VISIBLE, A3.CDCONTENT AREA, ISLOCAL,
       a5.cdcontent RPTFEE,
       CASE WHEN rpt.cmdtype = ''R'' AND rpt.visible = ''Y'' THEN ''Y'' ELSE ''N'' END  EDITALLOW
FROM RPTMASTER rpt, ALLCODE A0, ALLCODE A1, ALLCODE A2,ALLCODE A3, ALLCODE A4, allcode a5
WHERE A0.CDTYPE = ''SY'' AND A0.CDNAME = ''YESNO'' AND TRIM(A0.CDVAL)=AD_HOC
AND A4.CDTYPE = ''SA'' AND A4.CDNAME = ''CMDTYPE'' AND TRIM(A4.CDVAL)=CMDTYPE
AND A1.CDTYPE = ''SY'' AND A1.CDNAME = ''ORIENTATION'' AND TRIM(A1.CDVAL)=ORIENTATION
AND A2.CDTYPE = ''SY'' AND A2.CDNAME = ''VISIBLE'' AND TRIM(A2.CDVAL)=VISIBLE
AND A3.CDTYPE = ''SY'' AND A3.CDNAME = ''AREA'' AND Trim(A3.CDVAL)=AREA
AND a5.CDTYPE = ''SY'' AND a5.CDNAME = ''YESNO'' AND TRIM(a5.CDVAL) = NVL((SELECT ''Y'' FROM rptmaster_fee fee WHERE fee.rptid = rpt.rptid), ''N'')', 'RPTMASTER', 'frmRPTMASTER', '', '', NULL, 5000, 'N', 1, '', 'Y', 'T', '', 'N', '');COMMIT;