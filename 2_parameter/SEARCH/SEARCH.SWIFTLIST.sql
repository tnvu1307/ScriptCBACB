SET DEFINE OFF;DELETE FROM SEARCH WHERE 1 = 1 AND NVL(SEARCHCODE,'NULL') = NVL('SWIFTLIST','NULL');Insert into SEARCH   (SEARCHCODE, SEARCHTITLE, EN_SEARCHTITLE, SEARCHCMDSQL, OBJNAME, FRMNAME, ORDERBYCMDSQL, TLTXCD, CNTRECORD, ROWPERPAGE, AUTOSEARCH, INTERVAL, AUTHCODE, ROWLIMIT, CMDTYPE, CONDDEFFLD, BANKINQ, BANKACCT) Values   ('SWIFTLIST', 'Danh sách swift gửi', 'List swift send', 'SELECT LOG.AUTOID, RDTL.PAGENO, LOG.REFTXNUM, LOG.SWIFTID, TO_CHAR(TRIM(SUBSTR(MSGBODY,662,1024)) || TRIM(SUBSTR(MSGBODY,2710,9999)) || SUBSTR(MSGBODY,1686,2)) SWIFT, 
       SL.<@CDCONTENT> STATUS
FROM VSDTXREQDTL RDTL, CRBLOG LOG, (
    SELECT L.*, A.CDCONTENT, A.EN_CDCONTENT FROM SWIFT_MULTILREQ_LOG L, ALLCODE A
    WHERE (CASE WHEN L.STATUS = ''A'' THEN ''F'' ELSE L.STATUS END) = A.CDVAL
    AND A.CDNAME = ''VSDTXREQSTS''
) SL
WHERE (TO_CHAR(RDTL.REQID) || CASE WHEN RDTL.PAGENO > 1 THEN TO_CHAR(RDTL.PAGENO) ELSE '''' END) = LOG.SWIFTID
AND LOG.SWIFTID = SL.MSGID(+)
AND FLDNAME = ''PAGE_NUM'' 
AND RDTL.REQID = ''<$KEYVAL>''
ORDER BY PAGENO', 'MT.WCRBLOG', 'frmRECFDEF', NULL, NULL, 0, 5000, 'N', 1, NULL, 'Y', 'T', NULL, 'N', NULL);COMMIT;