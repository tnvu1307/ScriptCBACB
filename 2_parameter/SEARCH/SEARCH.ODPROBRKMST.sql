SET DEFINE OFF;DELETE FROM SEARCH WHERE 1 = 1 AND NVL(SEARCHCODE,'NULL') = NVL('ODPROBRKMST','NULL');Insert into SEARCH   (SEARCHCODE, SEARCHTITLE, EN_SEARCHTITLE, SEARCHCMDSQL, OBJNAME, FRMNAME, ORDERBYCMDSQL, TLTXCD, CNTRECORD, ROWPERPAGE, AUTOSEARCH, INTERVAL, AUTHCODE, ROWLIMIT, CMDTYPE, CONDDEFFLD, BANKINQ, BANKACCT) Values   ('ODPROBRKMST', 'Quản lý chính sách ưu đãi', 'Promotion management', 'SELECT MST.AUTOID, MST.FULLNAME,MST.PROBRKMSTTYPE PROBRKMSTTYPE_CD,A3.CDCONTENT PROBRKMSTTYPE,
MST.VALDATE, MST.EXPDATE, MST.FEERATE, MST.MINAMT, MST.MAXAMT, A0.CDCONTENT FEETYPE, A1.CDCONTENT STATUS,
(CASE WHEN MST.STATUS IN (''B'',''C'',''N'') THEN ''N'' ELSE ''Y'' END) EDITALLOW,
(CASE WHEN MST.STATUS IN (''P'') THEN ''Y'' ELSE ''N'' END) APRALLOW,
 ''Y'' AS DELALLOW
FROM ODPROBRKMST MST, ALLCODE A0, ALLCODE A1, ALLCODE A3 WHERE A0.CDTYPE=''SA''
AND A0.CDNAME=''FEETYPE''
AND A0.CDVAL=MST.FEETYPE
AND A1.CDTYPE=''SY''
AND A1.CDNAME=''APPRV_STS''
AND A1.CDVAL=MST.STATUS 
AND A3.CDNAME = ''PROBRKMSTTYPE''
AND A3.CDVAL = MST.PROBRKMSTTYPE', 'ODPROBRKMST', 'frmODPROBRKMST', '', '', NULL, 5000, 'N', 1, '', 'Y', 'T', '', 'N', '');COMMIT;